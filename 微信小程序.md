## 在微信公众平台官网申请注册

```
https://mp.weixin.qq.com/
```

## 摄像头

```
<camera device-position="front" flash="off" binderror="error" style="width: 100%; height: 300px;"></camera>//front为后置摄像头back为前置摄像头
<button type="primary" bindtap="takePhoto">拍照</button>
<view>预览</view>
<image mode="widthFix" src="{{src}}"></image>

takePhoto() {
    const ctx = wx.createCameraContext()
    ctx.takePhoto({
      quality: 'high',
      success: (res) => {
        this.setData({//在data加一个src
          src: res.tempImagePath
        })
      }
    })
  },
  error(e) {
    console.log(e.detail)
  }
```

## 生命周期

```
onLoad(){//页面加载时触发
	console.log('页面加载时触发')
},
onReady(){//页面初次渲染完成时触发
	console.log('页面初次渲染完成时触发')
},
onShow(){//每次点击回来都会执行
	console.log('页面显示/切入前台时触发')
},
onHide(){//点击去到别的页面时候触发
    console.log('页面隐藏/切入后台时触发')
},
onUnload(){//页面卸载时触发
    console.log('页面卸载时触发')
}

wx.showNavigationBarLoading() //在标题栏中显示加载
wx.hideNavigationBarLoading() //完成停止加载


先在json开启上拉和下拉的权限  才能在js调用下面这两个方法
下拉刷新enablePullDownRefresh:true
阻止下拉刷新 wx.stopPullDownRefresh()
上拉触底onReachBottomDistance:50(Number)


下拉触发
onPullDownRefresh()
上拉触发
onReachBottom()
滚动触发
onPageScroll()
```

## 路由

```
在app.json配置  这个就相当于在index的文件夹创建了一个jiang的文件夹 里面有jiang文件
"pages/index/jiang/jiang"
这个就是跳转的标签url是相对于自身路径
<navigator url="./jiang/jiang">
    xxxxx
</navigator>

这个也可以实现跳转路由
wx.navigateTo({
       url: '/pages/search/search'
})

```

## 调用组件使用      组件生命周期

```
要在a容器调用组件 那么就要在a容器json配置下面的参数
{
  "usingComponents": {
    "searchbar": "/components/searchbar/searchbar",
    "navbar":"/components/navbar/navbar"
  },
   "onReachBottomDistance":50,//上面说的开启权限 代表这个页面可以使用上拉和下拉
   enablePullDownRefresh:true//上面说的开启权限 代表这个页面可以使用上拉和下拉
}
到时候在a容器的html结构直接使用该组件即可
<navbar></navbar>

子组件在json也需要注册
{
  "component": true,
  "usingComponents": {}
}


组件生命周期
ready（）
attached（）
```

## 复用组件传参（选项卡   就是类似点击路由跳的是相同的页面，参数不一样）

```
在a组件复用了这三个b组件  
data: {
    news:1,
    hot:2,
    rock:11
 },
<pannel name='{{news}}'></pannel>
<pannel name='{{hot}}'></pannel>
<pannel name='{{rock}}'></pannel>
 
 然后在b组件
 //type是写死的 类型包括：String, Number, Boolean, Object, Array, null（表示任意类型）
  properties: {
    name:{//这个就是上面的名字  
      type:Number,//类型取决于传过来的是什么类型
      value:''
    }
  }
  	
  然后在b组件打印this.data.name就可以得到传过的的参数
```

## 发起请求

```
wx.request({//需要在右上角的详情开权限（但这是不靠谱的方法）
	url: 'http://tingapi.ting.baidu.com/v1/restserver/ting', //仅为示例，并非真实的接口地址
	data: {
        offset:0
	},
    header: {
        'content-type': 'application/json' // 默认值
        },
   success(res) {
        console.log(res.data.song_list)
   }
})
```

## 音乐接口

```
"http://musicapi.taihe.com/v1/restserver/ting?format=json&from=webapp_music&method=baidu.ting.song.playAAC&songid=" + options.id,//得到歌源
"http://tingapi.ting.baidu.com/v1/restserver/ting",//得到歌源
```

## 点击事件跳转

```
保留当前页面，跳转到应用内的某个页面，使用wx.navigateBack可以返回到原页面。
wx.navigateTo({
 url: 'test?id=1'
})

关闭当前页面，跳转到应用内的某个页面。
wx.redirectTo({
 url: 'test?id=1'
})

跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面
wx.switchTab({
 url: '/index'
})
```

